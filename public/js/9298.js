/*! For license information please see 9298.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9298,7939,3677,2520,3850,6020,6738,6790,2210,3122,1309,6435,6636,4447,3668,7535,7285,1794],{7994:(t,e,r)=>{function n(){return{setCoordsPosition:function(t){t.length>0&&(localStorage.setItem("lat",t[0]),localStorage.setItem("long",t[1]))}}}r.d(e,{e:()=>n})},2994:(t,e,r)=>{r.d(e,{R:()=>s});var n=r(8129),o=r.n(n),a=r(821),i=r(7879);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},r),l=(0,a.qj)(r),s=(0,a.iH)(!1),d=function(){s.value=!1,e("update:show",!1),function(){for(var t in n)l[t]=n[t]}()};return{form:l,isSubmit:s,submit:function(){i.Nd.post(o()(t),l,{preserveState:function(t){return Object.keys(t.props.errors).length},onStart:function(){s.value=!0},onError:function(t){Object.keys(t).length||d(),s.value=!1}})},close:d}}},120:(t,e,r)=>{r.d(e,{d:()=>c});var n=r(7879),o=r(6154),a=r(821);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(){l=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof w?e:w,i=Object.create(a.prototype),l=new $(n||[]);return o(i,"_invoke",{value:D(t,r,l)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var m="suspendedStart",v="suspendedYield",h="executing",g="completed",y={};function w(){}function b(){}function x(){}var _={};d(_,u,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(E([])));S&&S!==r&&n.call(S,u)&&(_=S);var L=x.prototype=w.prototype=Object.create(_);function j(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,l,u){var c=p(t[o],t,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==i(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,l,u)}),(function(t){r("throw",t,l,u)})):e.resolve(d).then((function(t){s.value=t,l(s)}),(function(t){return r("throw",t,l,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function D(e,r,n){var o=m;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=C(l,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=p(e,r,n);if("normal"===c.type){if(o=n.done?g:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=g,n.method="throw",n.arg=c.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function z(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(z,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return b.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,s,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},j(O.prototype),d(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(L),d(L,s,"Generator"),d(L,u,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=E,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return l.type="throw",l.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:E(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function u(t,e,r,n,o,a,i){try{var l=t[a](i),u=l.value}catch(t){return void r(t)}l.done?e(u):Promise.resolve(u).then(n,o)}function c(){var t=null,e=(0,a.iH)({}),r=(0,a.iH)(!1);function i(){var t;return t=l().mark((function t(n,a,i){var u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.post(n,{uuid:a},{onUploadProgress:function(){r.value=!r.value},onDownloadProgress:function(){r.value=!r.value}}).catch((function(t){}));case 2:u=t.sent,e.value=u.data,i.value=!i.value;case 5:case"end":return t.stop()}}),t)})),i=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,l,"next",t)}function l(t){u(a,n,o,i,l,"throw",t)}i(void 0)}))},i.apply(this,arguments)}return{showModal:function(e){e=!0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:""},editItem:function(t,e,r){return i.apply(this,arguments)},deleteItem:function(t,e){n.Nd.delete(t,{onBefore:function(){return confirm(e)},onError:function(t){}})},uuid:t,loading:r,formData:e}}},6085:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,".fade-enter-active,.fade-leave-active{transition:opacity .1s ease}.fade-enter-from,.fade-leave-to{opacity:0}.map-box{height:400px;width:100%}",""]);const a=o},7939:(t,e,r)=>{r.r(e),r.d(e,{default:()=>lt});var n=r(821),o=r(8129),a=r.n(o),i=(r(6154),r(120)),l=r(7994),u=r(6435),c=r(4551),s={key:0,class:"absolute bg-white opacity-50 flex h-full items-center justify-center left-0 opacity-75 w-full z-50"},d={class:"px-4 py-5 sm:px-6 border-b"},f={class:"text-lg leading-6 font-medium text-gray-900"},p={class:"mt-1 max-w-2xl text-sm text-gray-500"},m={class:"border-b"},v={class:"bg-gray-50 border-b border-gray-100 px-4 py-2 sm:gap-4 sm:grid-cols-3 sm:px-6"},h={class:"text-sm font-medium text-gray-500"},g={class:"bg-white px-4 py-2 grid grid-cols-2"},y={class:"text-sm font-medium text-gray-500"},w={class:"font-medium",id:"rightBlock0"},b={class:"text-sm text-gray-900"},x={key:0,class:"animated-background font-medium"},_={class:"bg-white px-4 py-2 grid grid-cols-2"},k={class:"text-sm text-gray-500"},S={class:"text-sm text-gray-900"},L={key:0,class:"animated-background font-medium"},j={class:"bg-white px-4 py-2 grid grid-cols-2"},O={class:"text-sm text-gray-500"},D={class:"text-sm text-gray-900"},C={key:0,class:"animated-background font-medium"},z={class:"bg-white px-4 py-2 grid grid-cols-2"},I={class:"text-sm text-gray-500"},$={class:"text-sm text-gray-900"},E={key:0,class:"animated-background font-medium"},P={class:"bg-white px-4 py-2 grid grid-cols-2"},U={class:"text-sm text-gray-500"},W={class:"text-sm text-gray-900"},V={key:0,class:"animated-background font-medium"},M={class:"bg-white px-4 py-2 grid grid-cols-2"},H={class:"text-sm text-gray-500"},N={class:"text-sm text-gray-900"},A={key:0,class:"animated-background font-medium"},q={class:"bg-gray-50 border-b border-gray-100 px-4 py-2 sm:gap-4 sm:grid-cols-3 sm:px-6"},T={class:"text-sm font-medium text-gray-500"},Z={class:"align-middle inline-block min-w-full"},G=["onClick"],B={class:"px-2 py-2 relative"},F={class:"flex items-center"},Y={class:"flex-shrink-0"},K={class:"ml-2 w-full"},R={class:"font-medium text-gray-700 text-sm"},X={key:0},J={key:1},Q={key:0,class:"text-xs text-gray-500"},tt={key:1,class:"text-xs text-gray-500"},et={key:0},rt=["onClick"],nt=[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 text-gray-400 hover:text-gray-600"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)],ot={key:1},at=["onClick"],it=[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 text-gray-400 hover:text-gray-600"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)];const lt={__name:"Information",props:{data:Object},emits:["goLocation"],setup:function(t,e){var r=e.emit,o=t,lt=(0,n.iH)(!1),ut=(0,i.d)(),ct=(ut.uuid,ut.loading),st=ut.formData,dt=(ut.modal,ut.editItem),ft=(0,l.e)().setCoordsPosition;return(0,n.bv)((function(){})),function(e,i){return(0,n.wg)(),(0,n.iD)("div",{class:(0,n.C_)(["w-80 bg-white border border-gray-200 relative",(0,n.SU)(ct)?"overflow-y-hidden":"overflow-y-auto"])},[(0,n.SU)(ct)?((0,n.wg)(),(0,n.iD)("div",s)):(0,n.kq)("",!0),(0,n._)("div",d,[(0,n._)("h3",f,(0,n.zw)(e.$t("ui.information")),1),(0,n._)("p",p,(0,n.zw)(e.$t("ui.full_information")),1)]),(0,n._)("div",m,[(0,n._)("dl",null,[(0,n._)("div",v,[(0,n._)("dt",h,(0,n.zw)(e.$t("ui.general")),1)]),(0,n._)("div",g,[(0,n._)("dt",y,[(0,n._)("div",w,(0,n.zw)(e.$t("ui.driver")),1)]),(0,n._)("dd",b,[t.data.device?((0,n.wg)(),(0,n.iD)("div",x,(0,n.zw)(t.data.device.name),1)):(0,n.kq)("",!0)])]),(0,n._)("div",_,[(0,n._)("dt",k,[(0,n._)("div",null,(0,n.zw)(e.$t("ui.car")),1)]),(0,n._)("dd",S,[t.data.device?((0,n.wg)(),(0,n.iD)("div",L,(0,n.zw)(t.data.device.car_model),1)):(0,n.kq)("",!0)])]),(0,n._)("div",j,[(0,n._)("dt",O,[(0,n._)("div",null,(0,n.zw)(e.$t("ui.distance_km")),1)]),(0,n._)("dd",D,[t.data.device?((0,n.wg)(),(0,n.iD)("div",C,(0,n.zw)(t.data.device.distance),1)):(0,n.kq)("",!0)])]),(0,n._)("div",z,[(0,n._)("dt",I,[(0,n._)("div",null,(0,n.zw)(e.$t("ui.engine_hours")),1)]),(0,n._)("dd",$,[t.data.device?((0,n.wg)(),(0,n.iD)("div",E,(0,n.zw)(t.data.device.engineRuntime),1)):(0,n.kq)("",!0)])]),(0,n._)("div",P,[(0,n._)("dt",U,[(0,n._)("div",null,(0,n.zw)(e.$t("ui.last_point")),1)]),(0,n._)("dd",W,[t.data.device?((0,n.wg)(),(0,n.iD)("div",V,(0,n.zw)(t.data.device.lastPoint),1)):(0,n.kq)("",!0)])]),(0,n._)("div",M,[(0,n._)("dt",H,[(0,n._)("div",null,(0,n.zw)(e.$t("ui.total_points")),1)]),(0,n._)("dd",N,[t.data.device?((0,n.wg)(),(0,n.iD)("div",A,(0,n.zw)(t.data.device.points),1)):(0,n.kq)("",!0)])])])]),(0,n._)("div",q,[(0,n._)("dt",T,(0,n.zw)(e.$t("ui.points_list")),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.data.points,(function(t,i){return(0,n.wg)(),(0,n.iD)("div",{key:t.uuid,class:"flex flex-col border-b relative"},[(0,n._)("div",Z,[(0,n._)("div",{class:"cursor-pointer hover:bg-blue-100 overflow-hidden",onClick:function(t){return e=i,n=o.data.points[e],void r("goLocation",[n.lat,n.long]);var e,n}},[(0,n._)("div",B,[(0,n._)("div",F,[(0,n._)("div",Y,[(0,n.Wm)(c.default,{class:"w-6 h-6 text-blue-500"})]),(0,n._)("div",K,[(0,n._)("div",R,[t.pointInfo&&t.pointInfo.point_name?((0,n.wg)(),(0,n.iD)("span",X,(0,n.zw)(t.pointInfo.point_name),1)):((0,n.wg)(),(0,n.iD)("span",J,(0,n.zw)(e.$t("ui.client_not_found")),1))]),t.pointInfo?((0,n.wg)(),(0,n.iD)("div",Q,(0,n.zw)(t.pointInfo.address),1)):(0,n.kq)("",!0),t?((0,n.wg)(),(0,n.iD)("div",tt,(0,n.zw)(t.time),1)):(0,n.kq)("",!0)])])])],8,G),t.pointInfo?((0,n.wg)(),(0,n.iD)("div",et,[(0,n._)("a",{onClick:function(e){return function(t){dt(a()("get.point"),t,lt)}(t.pointInfo.uuid)},class:"text-gray-600 hover:text-blue-500 cursor-pointer absolute right-2 top-2",title:"Изменить данные"},nt,8,rt)])):((0,n.wg)(),(0,n.iD)("div",ot,[(0,n._)("a",{onClick:function(e){return r=[t.lat,t.long],lt.value=!0,void ft(r);var r},class:"text-gray-600 hover:text-blue-500 cursor-pointer absolute right-2 top-2",title:"Изменить данные"},it,8,at)]))])])})),128)),(0,n.Wm)(n.uT,{name:"fade"},{default:(0,n.w5)((function(){return[(0,n.Wm)(u.default,{show:(0,n.SU)(lt),"onUpdate:show":i[0]||(i[0]=function(t){return(0,n.dq)(lt)?lt.value=t:lt=t}),"form-data":(0,n.SU)(st)},null,8,["show","form-data"])]})),_:1})],2)}}}},3677:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f});var n=r(821),o=r(5836),a=r(8552),i=r(4155);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(){u=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof w?e:w,i=Object.create(a.prototype),l=new $(n||[]);return o(i,"_invoke",{value:D(t,r,l)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var m="suspendedStart",v="suspendedYield",h="executing",g="completed",y={};function w(){}function b(){}function x(){}var _={};d(_,i,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(E([])));S&&S!==r&&n.call(S,i)&&(_=S);var L=x.prototype=w.prototype=Object.create(_);function j(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,i,u){var c=p(t[o],t,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==l(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,u)}),(function(t){r("throw",t,i,u)})):e.resolve(d).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function D(e,r,n){var o=m;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=C(l,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=p(e,r,n);if("normal"===c.type){if(o=n.done?g:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=g,n.method="throw",n.arg=c.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function z(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(z,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(l(e)+" is not iterable")}return b.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,s,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},j(O.prototype),d(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(L),d(L,s,"Generator"),d(L,i,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=E,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return l.type="throw",l.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:E(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function c(t,e,r,n,o,a,i){try{var l=t[a](i),u=l.value}catch(t){return void r(t)}l.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){c(a,n,o,i,l,"next",t)}function l(t){c(a,n,o,i,l,"throw",t)}i(void 0)}))}}var d={id:"map",class:"h-full"};const f={__name:"MainMap",props:{mapZoom:{type:[String,Number],default:10},trackerData:Object,lastPosition:Object},setup:function(t,e){var r=e.expose,l=t,c={},f={},p={},m=(0,a.QT)().t,v={apiKey:"8acea172-f9f1-4d65-b7b0-155f6f1e902d",lang:i.env.MIX_LANG,coordorder:"latlong",enterprise:!1,version:"2.1"},h=function(){for(var t in l.trackerData.points){var e=l.trackerData.points[t],r=e.pointInfo?e.pointInfo.point_name+", ":"";f.add(new ymaps.Placemark([e.lat,e.long],{balloonContent:r+e.time}))}},g=function(){for(var t in l.trackerData.point_move){var e=l.trackerData.point_move[t],r=e.pointInfo?e.pointInfo.point_name+", ":m("ui.standing");p.add(new ymaps.Placemark([e.lat,e.long],{balloonContent:r+" "+e.time}))}},y=function(){if(void 0!==l.lastPosition&&l.lastPosition.lat&&l.lastPosition.long){var t=l.trackerData.device.car_icon;f.add(new ymaps.Placemark([l.lastPosition.lat,l.lastPosition.long],{hintContent:m("ui.last_position")},{iconLayout:"default#image",iconImageHref:t,iconImageSize:[48,48],iconImageOffset:[-5,-38]}))}},w=function(){return new ymaps.Polyline(l.trackerData.lines,{},{balloonCloseButton:!1,strokeColor:"#f3005f",strokeWidth:"5",strokeOpacity:"0.6"})};return r({to:function(t){c.panTo(t,{flying:1})}}),(0,n.bv)(s(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.xk)(v);case 2:c=new ymaps.Map("map",{center:["54.492541","53.51126"],zoom:l.mapZoom,controls:["geolocationControl","zoomControl"]},{geolocationControlFloat:"right",zoomControlPosition:{right:10,top:50}}),f=new ymaps.GeoObjectCollection({},{preset:"islands#icon",iconColor:"#0095b6",strokeWidth:"4",geodesic:!0}),p=new ymaps.GeoObjectCollection({},{preset:"islands#icon",iconColor:"#cc4f1e",strokeWidth:"4",geodesic:!0}),h(),g(),y(),c.geoObjects.add(w()).add(f).add(p);case 7:case"end":return t.stop()}}),t)})))),(0,n.ic)((function(){c.geoObjects.removeAll(),f.removeAll(),h(),g(),y(),c.geoObjects.add(w()).add(f).add(p)})),function(t,e){return(0,n.wg)(),(0,n.iD)("div",d)}}}},2520:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});var n=r(821);var o=r(5836);const a={name:"Map",components:{yandexMap:o.xR,ymapMarker:o.Jk},emits:["update:coordinates"],props:{latitude:{type:[String,Number]},longitude:{type:[String,Number]},mapZoom:{type:[String,Number],default:10}},data:function(){return{coords:[this.latitude,this.longitude],zoom:this.mapZoom}},setup:function(){return{controls:["geolocationControl"],detailedControls:{zoomControl:{position:{right:10,top:50}}}}},methods:{updateCoords:function(t){"r"===t.constructor.name&&(this.coords=t.get("coords"),this.$emit("update:coordinates",t.get("coords")))}}};const i=(0,r(3744).Z)(a,[["render",function(t,e,r,o,a,i){var l=(0,n.up)("ymap-marker"),u=(0,n.up)("yandex-map");return(0,n.wg)(),(0,n.j4)(u,{coords:a.coords,zoom:r.mapZoom,controls:o.controls,"detailed-controls":o.detailedControls,onClick:i.updateCoords},{default:(0,n.w5)((function(){return[(0,n.Wm)(l,{coords:a.coords,"marker-id":1,"hint-content":t.$t("points.point_balloon_hint")},null,8,["coords","hint-content"])]})),_:1},8,["coords","zoom","controls","detailed-controls","onClick"])}]])},3850:(t,e,r)=>{r.r(e),r.d(e,{default:()=>L});var n=r(821),o={class:"bg-gray-800 shadow-md z-20"},a={class:"px-6"},i={class:"flex h-20 items-center justify-between"},l={class:"flex"},u={class:"flex items-center gap-3 mr-10 w-64"},c={class:"flex items-center gap-4"},s={class:"text-white"},d={class:"text-white"},f={class:"text-white"},p={class:"flex items-center gap-4"},m={class:"bg-gray-700 px-4 py-2 rounded-lg"},v={class:"relative inline-flex items-center cursor-pointer"},h=(0,n._)("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-sky-500"},null,-1),g={class:"ml-3 text-sm font-medium text-white"};var y=r(3122),w=r(4447),b=r(3668),x=r(1794),_=r(8129),k=r.n(_);const S={components:{IconSettingsV2:x.default,IconCalendar:b.default,LogoutButton:w.default,ActionButton:y.default},props:{lastLocation:Object,modelValue:{type:Boolean,default:!1}},data:function(){return{checked:this.$props.modelValue}},methods:{showModal:function(){this.$emit("open",!0)},goToLocation:function(){this.$emit("goToLocation",[this.$props.lastLocation.lat,this.$props.lastLocation.long])},updateMode:function(t){this.$emit("updateMode",t.target.checked)},goSettings:function(){window.location.href=k()("settings")}}};const L=(0,r(3744).Z)(S,[["render",function(t,e,r,y,w,b){var x=(0,n.up)("IconLogo"),_=(0,n.up)("Link"),k=(0,n.up)("IconLocation"),S=(0,n.up)("ActionButton"),L=(0,n.up)("IconCalendar"),j=(0,n.up)("IconSettingsV2"),O=(0,n.up)("LogoutButton");return(0,n.wg)(),(0,n.iD)("nav",o,[(0,n._)("div",a,[(0,n._)("div",i,[(0,n._)("div",l,[(0,n._)("div",u,[(0,n.Wm)(x),(0,n.Wm)(_,{href:t.route("dashboard"),class:"font-bold text-xl text-white"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,n.zw)(t.$t("headers.dashboard")),1)]})),_:1},8,["href"])]),(0,n._)("div",c,[(0,n.Wm)(S,{onClick:b.goToLocation},{default:(0,n.w5)((function(){return[(0,n.Wm)(k,{class:"w-5 h-5 mr-2"}),(0,n._)("span",s,(0,n.zw)(t.$t("buttons.location")),1)]})),_:1},8,["onClick"]),(0,n.Wm)(S,{onClick:b.showModal},{default:(0,n.w5)((function(){return[(0,n.Wm)(L,{class:"w-5 h-5 mr-2"}),(0,n._)("span",d,(0,n.zw)(t.$t("buttons.interval")),1)]})),_:1},8,["onClick"]),(0,n.Wm)(S,{onClick:b.goSettings},{default:(0,n.w5)((function(){return[(0,n.Wm)(j,{class:"w-5 h-5 mr-2"}),(0,n._)("span",f,(0,n.zw)(t.$t("buttons.settings")),1)]})),_:1},8,["onClick"])])]),(0,n._)("div",p,[(0,n._)("div",m,[(0,n._)("label",v,[(0,n.wy)((0,n._)("input",{type:"checkbox",value:"","onUpdate:modelValue":e[0]||(e[0]=function(t){return w.checked=t}),onChange:e[1]||(e[1]=function(){return b.updateMode&&b.updateMode.apply(b,arguments)}),class:"sr-only peer"},null,544),[[n.e8,w.checked]]),h,(0,n._)("span",g,(0,n.zw)(t.$t("ui.update_location")),1)])]),(0,n.Wm)(O)])])])])}]])},6020:(t,e,r)=>{r.r(e),r.d(e,{default:()=>S});var n=r(821),o={class:"flex-none bg-white h-full left-0 ml-0 top-20 w-80 overflow-y-auto overflow-x-hidden border-r border-gray-200"},a={class:"px-4 py-5 sm:px-6 border-b"},i={class:"text-lg leading-6 font-medium text-gray-900"},l={class:"mt-1 max-w-2xl text-sm text-gray-500"},u={class:"bg-gray-50 px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},c={class:"text-sm font-medium text-gray-500"},s={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},d={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},f={class:"shadow-sm cursor-pointer hover:bg-blue-100 overflow-hidden"},p={class:"px-6 py-4 whitespace-nowrap relative"},m={class:"flex items-center"},v={class:"flex-shrink-0 h-10 w-10"},h=["src"],g={key:1},y={class:"ml-4"},w={class:"text-sm font-medium text-gray-900"},b={class:"text-sm text-gray-500"},x={class:"absolute h-10 h-6 right-5 top-6"};var _=r(7285);const k={name:"Sidebar",components:{Href:r(6636).default,IconProfile:_.default},props:{data:Object},methods:{current:function(t){return null!==location.pathname.match(t)&&location.pathname.match(t)[0]===t}}};const S=(0,r(3744).Z)(k,[["render",function(t,e,r,_,k,S){var L=(0,n.up)("IconProfile"),j=(0,n.up)("IconOnline"),O=(0,n.up)("IconOffline"),D=(0,n.up)("Link");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",null,[(0,n._)("div",a,[(0,n._)("h3",i,(0,n.zw)(t.$t("ui.device_list")),1),(0,n._)("p",l,(0,n.zw)(t.$t("ui.all_devices")),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.data,(function(e,r){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",u,[(0,n._)("dt",c,(0,n.zw)(r),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(function(e){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(D,{href:t.route("dashboard",e.id_tracker),class:(0,n.C_)(["flex flex-col block",S.current(e.id_tracker)?"border-r-4 border-blue-500":""])},{default:(0,n.w5)((function(){return[(0,n._)("div",s,[(0,n._)("div",d,[(0,n._)("div",f,[(0,n._)("div",p,[(0,n._)("div",m,[(0,n._)("div",v,[(0,n._)("div",null,[e.photo?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.photoUrl,alt:"user avatar",class:"h-12 w-12 rounded-full"},null,8,h)):((0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(L)]))])]),(0,n._)("div",y,[(0,n._)("div",w,(0,n.zw)(e.name),1),(0,n._)("div",b,(0,n.zw)(e.car_model)+" - "+(0,n.zw)(e.car_number),1),(0,n._)("div",x,[e.last_activity<5?((0,n.wg)(),(0,n.j4)(j,{key:0})):((0,n.wg)(),(0,n.j4)(O,{key:1}))])])])])])])])]})),_:2},1032,["href","class"])])})),256))])})),256))])])}]])},6738:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});var n=r(821),o=["textContent"];const a={name:"InputErrorV2",props:{error:String}};const i=(0,r(3744).Z)(a,[["render",function(t,e,r,a,i,l){return r.error?((0,n.wg)(),(0,n.iD)("div",{key:0,textContent:(0,n.zw)(r.error),class:"text-red-500 text-xs mt-1 px-1.5 w-72"},null,8,o)):(0,n.kq)("",!0)}]])},6790:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(821),o={class:"block text-sm font-medium text-gray-700"},a={key:0},i={key:1};const l={__name:"InputLabel",props:{value:{type:String}},setup:function(t){return function(e,r){return(0,n.wg)(),(0,n.iD)("label",o,[t.value?((0,n.wg)(),(0,n.iD)("span",a,(0,n.zw)(t.value),1)):((0,n.wg)(),(0,n.iD)("span",i,[(0,n.WI)(e.$slots,"default")]))])}}}},2210:(t,e,r)=>{r.r(e),r.d(e,{default:()=>a});var n=r(821),o=["value"];const a={__name:"TextInput",props:{modelValue:{type:[String,Number],required:!0}},emits:["update:modelValue"],setup:function(t,e){var r=e.expose,a=(0,n.iH)(null);return(0,n.bv)((function(){a.value.hasAttribute("autofocus")&&a.value.focus()})),r({focus:function(){return a.value.focus()}}),function(e,r){return(0,n.wg)(),(0,n.iD)("input",{class:"shadow-sm text-sm border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 rounded-md h-10 px-3",value:t.modelValue,onInput:r[0]||(r[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),ref_key:"input",ref:a},null,40,o)}}}},9298:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var n=r(821),o=r(7879),a=r(7994),i=r(3850),l=r(6020),u=r(7939),c=r(3677),s=r(1309),d={class:"-mt-20 flex h-screen pt-20 w-full"},f={class:"flex-grow relative"},p={class:"h-full"};const m={__name:"Home",props:{devices:Object,trackerData:Object,position:Object},setup:function(t){var e=(0,n.iH)(null),r=(0,n.iH)(!1),m=null,v=(0,n.iH)(!1),h=(0,a.e)().setCoordsPosition,g=function(t){localStorage.setItem("update",t),v.value=t,v.value&&y()},y=function(){v.value&&(m=setInterval((function(){o.Nd.reload({only:["position"]})}),3e4))},w=function(){clearInterval(m)};(0,n.wF)((function(){v.value=localStorage.getItem("update")&&"true"===localStorage.getItem("update")})),(0,n.bv)((function(){v.value&&y()})),(0,n.ic)((function(){v.value||w()})),(0,n.SK)((function(){w()}));var b=function(t){r.value=t},x=function(t){e.value.to(t),h(t)};return function(o,a){var m=(0,n.up)("Head");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(m,{title:o.$t("head.dashboard")},null,8,["title"]),(0,n._)("header",null,[(0,n.Wm)(i.default,{onOpen:b,onGoToLocation:x,onUpdateMode:g,"model-value":(0,n.SU)(v),"last-location":t.position},null,8,["model-value","last-location"])]),(0,n._)("main",null,[(0,n._)("div",d,[(0,n.Wm)(l.default,{data:t.devices},null,8,["data"]),(0,n._)("div",f,[(0,n._)("div",p,[(0,n.Wm)(c.default,{"tracker-data":t.trackerData,"last-position":t.position,"map-zoom":16,ref_key:"template",ref:e},null,8,["tracker-data","last-position"])])]),(0,n.Wm)(u.default,{data:t.trackerData,onGoLocation:x},null,8,["data"])])]),(0,n.Wm)(n.uT,{name:"fade"},{default:(0,n.w5)((function(){return[(0,n.Wm)(s.default,{show:r.value,"onUpdate:show":a[0]||(a[0]=function(t){return r.value=t})},null,8,["show"])]})),_:1})],64)}}}},3122:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});var n=r(821),o={class:"w-32 bg-gray-800 border border-[#38569e] hover:bg-sky-500 hover:border-sky-600 flex items-center justify-center text-white active:text-blue-400 hover:bg-opacity-70 text-xs font-medium uppercase px-2 py-2 h-10 rounded outline-none focus:outline-none ease-linear transition-all duration-150"};const a={name:"ActionButton"};const i=(0,r(3744).Z)(a,[["render",function(t,e,r,a,i,l){return(0,n.wg)(),(0,n.iD)("button",o,[(0,n.WI)(t.$slots,"default")])}]])},1309:(t,e,r)=>{r.r(e),r.d(e,{default:()=>b});var n=r(821),o=r(1016),a=r(8129),i=r.n(a),l=r(7879),u=["onClick"],c={class:"bg-gray-900 bg-opacity-70 fixed inset-0 z-50"},s={class:"fixed flex inset-0 items-center justify-center overflow-x-hidden overflow-y-auto","aria-modal":"true",role:"dialog"},d={class:"max-w-lg mx-auto my-auto relative w-full"},f=(0,n._)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),p={class:"sr-only"},m={class:"p-6 text-center"},v={class:"mb-5 text-lg font-normal text-gray-500"},h={class:"flex items-center gap-4 py-2"},g={class:"flex items-center gap-3"},y={class:"flex items-center gap-3"},w={class:"w-full flex justify-end items-center gap-4 pt-6"};const b={__name:"IntervalDialog",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup:function(t,e){var r=e.emit,a=(0,n.iH)(new Date),b=(0,n.iH)(new Date),x=function(){r("update:show",!1)},_=function(t){var e=t.getDate()<9?"0"+t.getDate():t.getDate(),r=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getFullYear();return"".concat(e,"-").concat(r,"-").concat(n)},k=function(){var t=location.pathname.match(/[0-9]+$/gm);l.Nd.get(i()("dashboard",t),{from:_(b.value),to:_(a.value)},{preserveState:!0}),x()};return(0,n.bv)((function(){var t;(t=new URLSearchParams(location.search)).has("from")&&t.has("to")&&(b=(0,n.iH)(_(new Date(t.get("from")))),a=(0,n.iH)(_(new Date(t.get("to")))))})),function(e,r){return t.show?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:(0,n.iM)(x,["stop"])},[(0,n._)("div",c,[(0,n._)("div",s,[(0,n._)("div",d,[(0,n._)("div",{class:"bg-white relative rounded-lg shadow",onClick:r[3]||(r[3]=(0,n.iM)((function(){}),["stop"]))},[(0,n._)("button",{onClick:x,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center"},[f,(0,n._)("span",p,(0,n.zw)(e.$t("buttons.close")),1)]),(0,n._)("div",m,[(0,n._)("h3",v,(0,n.zw)(e.$t("ui.select_date")),1),(0,n._)("div",null,[(0,n._)("div",h,[(0,n._)("div",g,[(0,n.Uk)((0,n.zw)(e.$t("ui.from"))+" ",1),(0,n.Wm)((0,n.SU)(o.Z),{modelValue:(0,n.SU)(b),"onUpdate:modelValue":r[0]||(r[0]=function(t){return(0,n.dq)(b)?b.value=t:b=t}),format:_,"enable-time-picker":!1,locale:"ru","auto-apply":""},null,8,["modelValue"])]),(0,n._)("div",y,[(0,n.Uk)((0,n.zw)(e.$t("ui.to"))+" ",1),(0,n.Wm)((0,n.SU)(o.Z),{modelValue:(0,n.SU)(a),"onUpdate:modelValue":r[1]||(r[1]=function(t){return(0,n.dq)(a)?a.value=t:a=t}),format:_,"enable-time-picker":!1,locale:"ru","auto-apply":""},null,8,["modelValue"])])])]),(0,n._)("div",null,[(0,n._)("div",w,[(0,n._)("button",{type:"button",onClick:k,class:"text-white bg-blue-600 hover:bg-blue-800 font-medium rounded-lg text-sm inline-flex items-center px-6 py-2.5 text-center"},(0,n.zw)(e.$t("buttons.show")),1),(0,n._)("button",{type:"button",onClick:r[2]||(r[2]=function(e){return t.show=!1}),class:"text-gray-900 bg-white hover:bg-gray-100 border border-gray-300 font-medium rounded-lg text-sm px-5 py-2.5"},(0,n.zw)(e.$t("buttons.cancel")),1)])])])])])])])],8,u)):(0,n.kq)("",!0)}}}},6435:(t,e,r)=>{r.r(e),r.d(e,{default:()=>I});var n=r(821),o=r(2994),a=r(6790),i=r(2210),l=r(6738),u=r(2520),c={key:0,class:"fixed top-0 inset-x-0 px-4 pt-6 z-50 sm:px-0 sm:flex sm:items-top sm:justify-center"},s=[(0,n._)("div",{class:"absolute inset-0 bg-black opacity-70"},null,-1)],d={class:"bg-white rounded-lg overflow-hidden shadow-xl transform w-full"},f={class:"px-6 py-4"},p={class:"text-lg py-4"},m={class:"flex gap-3"},v={class:"mt-4"},h={class:"mt-4"},g={class:"flex gap-3"},y={class:"mt-4"},w={class:"mt-4"},b={class:"flex gap-3"},x={class:"mt-4"},_={class:"mt-4"},k={class:"mt-4 map-box"},S={class:"px-6 py-4 text-right"},L=["disabled"];const j={__name:"PointDialog",props:{show:{type:Boolean,default:!1},options:Object,formData:Object,errors:Object},emits:["update:show"],setup:function(t,e){var r=e.emit,j=t,O=(0,o.R)("create.point",r,{client_name:"",address:"",point_name:"",latitude:55.75,longitude:37.62,crm_code:"",uuid:""}),D=O.form,C=O.isSubmit,z=O.submit,I=O.close;(0,n.YP)((function(){return j.formData}),(function(t){for(var e in t)D[e]=t[e]}));var $=function(t){D.latitude=t[0],D.longitude=t[1]};return(0,n.Xn)((function(){null!==localStorage.getItem("lat")&&localStorage.getItem("long")&&(D.latitude=localStorage.getItem("lat"),D.longitude=localStorage.getItem("long"))})),function(e,r){return t.show?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",{onClick:r[0]||(r[0]=function(){return(0,n.SU)(I)&&(0,n.SU)(I).apply(void 0,arguments)}),class:"fixed inset-0 transform transition-all"},s),(0,n._)("div",null,[(0,n._)("div",d,[(0,n._)("form",{onSubmit:r[8]||(r[8]=(0,n.iM)((function(){return(0,n.SU)(z)&&(0,n.SU)(z).apply(void 0,arguments)}),["prevent"]))},[(0,n._)("div",f,[(0,n._)("div",p,(0,n.zw)(e.$t("points.point_info")),1),(0,n._)("div",m,[(0,n._)("div",v,[(0,n.Wm)(a.default,{for:"name",value:e.$t("points.client")},null,8,["value"]),(0,n.Wm)(i.default,{id:"name",type:"text",class:"mt-1 block w-72",modelValue:(0,n.SU)(D).client_name,"onUpdate:modelValue":r[1]||(r[1]=function(t){return(0,n.SU)(D).client_name=t}),required:""},null,8,["modelValue"]),(0,n.Wm)(l.default,{error:e.$page.props.errors.client_name},null,8,["error"])]),(0,n._)("div",h,[(0,n.Wm)(a.default,{for:"name",value:e.$t("points.crm_code")},null,8,["value"]),(0,n.Wm)(i.default,{id:"name",type:"text",class:"mt-1 block w-72",modelValue:(0,n.SU)(D).crm_code,"onUpdate:modelValue":r[2]||(r[2]=function(t){return(0,n.SU)(D).crm_code=t}),required:""},null,8,["modelValue"]),(0,n.Wm)(l.default,{error:e.$page.props.errors.crm_code},null,8,["error"])])]),(0,n._)("div",g,[(0,n._)("div",y,[(0,n.Wm)(a.default,{for:"name",value:e.$t("points.address")},null,8,["value"]),(0,n.Wm)(i.default,{id:"name",type:"text",class:"mt-1 block w-72",modelValue:(0,n.SU)(D).address,"onUpdate:modelValue":r[3]||(r[3]=function(t){return(0,n.SU)(D).address=t}),required:""},null,8,["modelValue"]),(0,n.Wm)(l.default,{error:e.$page.props.errors.address},null,8,["error"])]),(0,n._)("div",w,[(0,n.Wm)(a.default,{for:"name",value:e.$t("points.point_name")},null,8,["value"]),(0,n.Wm)(i.default,{id:"name",type:"text",class:"mt-1 block w-72",modelValue:(0,n.SU)(D).point_name,"onUpdate:modelValue":r[4]||(r[4]=function(t){return(0,n.SU)(D).point_name=t}),required:""},null,8,["modelValue"]),(0,n.Wm)(l.default,{error:e.$page.props.errors.point_name},null,8,["error"])])]),(0,n._)("div",b,[(0,n._)("div",x,[(0,n.Wm)(a.default,{for:"name",value:e.$t("points.longitude")},null,8,["value"]),(0,n.Wm)(i.default,{id:"name",type:"text",class:"mt-1 block w-72",modelValue:(0,n.SU)(D).latitude,"onUpdate:modelValue":r[5]||(r[5]=function(t){return(0,n.SU)(D).latitude=t}),required:""},null,8,["modelValue"]),(0,n.Wm)(l.default,{error:e.$page.props.errors.latitude},null,8,["error"])]),(0,n._)("div",_,[(0,n.Wm)(a.default,{for:"name",value:e.$t("points.latitude")},null,8,["value"]),(0,n.Wm)(i.default,{id:"name",type:"text",class:"mt-1 block w-72",modelValue:(0,n.SU)(D).longitude,"onUpdate:modelValue":r[6]||(r[6]=function(t){return(0,n.SU)(D).longitude=t}),required:""},null,8,["modelValue"]),(0,n.Wm)(l.default,{error:e.$page.props.errors.longitude},null,8,["error"])])]),(0,n._)("div",k,[(0,n.Wm)(u.default,{"onUpdate:coordinates":$,latitude:(0,n.SU)(D).latitude,longitude:(0,n.SU)(D).longitude,"map-zoom":17},null,8,["latitude","longitude"])])]),(0,n._)("div",S,[(0,n._)("button",{type:"submit",disabled:(0,n.SU)(C),class:(0,n.C_)([(0,n.SU)(C)?"opacity-50":"","w-24 inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-500 ml-3 text-sm"])},(0,n.zw)(e.$t("buttons.save")),11,L),(0,n._)("button",{onClick:r[7]||(r[7]=function(){return(0,n.SU)(I)&&(0,n.SU)(I).apply(void 0,arguments)}),type:"button",class:"mt-3 w-24 inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 mt-0 ml-3 text-sm"},(0,n.zw)(e.$t("buttons.cancel")),1)])],32)])])])):(0,n.kq)("",!0)}}};var O=r(3379),D=r.n(O),C=r(6085),z={insert:"head",singleton:!1};D()(C.Z,z);C.Z.locals;const I=j},6636:(t,e,r)=>{r.r(e),r.d(e,{default:()=>a});var n=r(821);const o={name:"Href",props:{active:{type:Boolean,default:!1}}};const a=(0,r(3744).Z)(o,[["render",function(t,e,r,o,a,i){var l=(0,n.up)("Link");return(0,n.wg)(),(0,n.j4)(l,{class:(0,n.C_)([{"bg-blue-100 border-r-4 border-blue-400":r.active},"text-gray-700 border-r-4 border-gray-700 flex items-center py-2 px-8 text-gray-600 border-white hover:bg-gray-100 hover:text-gray-700 cursor-pointer"])},{default:(0,n.w5)((function(){return[(0,n.WI)(t.$slots,"default")]})),_:3},8,["class"])}]])},4447:(t,e,r)=>{r.r(e),r.d(e,{default:()=>c});var n=r(821),o={class:"text-white border-l border-gray-300 px-2"};var a=r(7535),i=r(8129),l=r.n(i);const u={name:"LogoutButton",components:{IconLogout:a.default},methods:{logout:function(){window.location.href=l()("logout")}}};const c=(0,r(3744).Z)(u,[["render",function(t,e,r,a,i,l){var u=(0,n.up)("IconLogout");return(0,n.wg)(),(0,n.iD)("button",o,[(0,n._)("div",{onClick:e[0]||(e[0]=function(){return l.logout&&l.logout.apply(l,arguments)}),class:"flex gap-2 items-center"},[(0,n.Wm)(u,{class:"w-5 h-5 text-gray-100"}),(0,n.Uk)(" "+(0,n.zw)(t.$t("buttons.logout")),1)])])}]])},3668:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(821),o={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},a=[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"},null,-1)];const i={name:"IconCalendar"};const l=(0,r(3744).Z)(i,[["render",function(t,e,r,i,l,u){return(0,n.wg)(),(0,n.iD)("svg",o,a)}]])},7535:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(821),o={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},a=[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"},null,-1)];const i={name:"IconLogout"};const l=(0,r(3744).Z)(i,[["render",function(t,e,r,i,l,u){return(0,n.wg)(),(0,n.iD)("svg",o,a)}]])},7285:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(821),o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"},class:"rounded-full","xml:space":"preserve"},a=[(0,n._)("path",{style:{fill:"#455A64"},d:"M511.676,498.752l-12.8-51.2c-6.073-24.838-24.485-44.813-48.747-52.885l-93.867-31.275\n            c-22.891-9.536-33.365-46.4-35.627-60.395c17.442-14.504,28.665-35.14,31.36-57.664c-0.385-3.847,0.523-7.713,2.581-10.987\n            c3.326-0.833,6.049-3.215,7.317-6.4c6.142-14.872,9.997-30.588,11.435-46.613c0.003-0.871-0.104-1.738-0.32-2.581\n            c-1.528-6.227-5.189-11.722-10.347-15.531v-56.555c0-34.368-10.496-48.469-21.547-56.64C339.004,33.472,321.276,0,255.996,0\n            c-57.917,2.332-104.335,48.75-106.667,106.667v56.555c-5.158,3.809-8.819,9.304-10.347,15.531c-0.216,0.843-0.323,1.711-0.32,2.581\n            c1.436,16.033,5.291,31.756,11.435,46.635c0.924,3.015,3.347,5.334,6.4,6.123c1.195,0.597,3.435,3.691,3.435,11.243\n            c2.711,22.588,13.999,43.271,31.531,57.771c-2.24,13.973-12.651,50.816-34.901,60.117l-94.699,31.445\n            c-24.243,8.071-42.643,28.026-48.725,52.843l-12.8,51.2c-1.449,5.71,2.005,11.514,7.715,12.963c0.853,0.217,1.73,0.327,2.61,0.328\n            h490.667c5.891-0.002,10.665-4.779,10.664-10.67C511.993,500.461,511.886,499.595,511.676,498.752z"},null,-1)];const i={name:"IconProfile"};const l=(0,r(3744).Z)(i,[["render",function(t,e,r,i,l,u){return(0,n.wg)(),(0,n.iD)("svg",o,a)}]])},1794:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(821),o={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},a=[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"},null,-1)];const i={name:"IconSettingsV2"};const l=(0,r(3744).Z)(i,[["render",function(t,e,r,i,l,u){return(0,n.wg)(),(0,n.iD)("svg",o,a)}]])}}]);